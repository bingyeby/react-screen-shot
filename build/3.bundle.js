(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(44),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(45),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(47),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(50),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(14),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_component_screenShot_screenShot__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(53),_index_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(61),_index_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_10__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(_){return _},Demo=function(_React$Component){function Demo(){var _,e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Demo);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this,(_=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Demo)).call.apply(_,[this].concat(r))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(e),"state",{imgSrcList:[]}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(e),"screenShotChangeHandler",(function(_){e.setState({imgSrcList:_})})),e}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Demo,_React$Component),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Demo,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:_index_less__WEBPACK_IMPORTED_MODULE_10___default.a.wrap},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:_index_less__WEBPACK_IMPORTED_MODULE_10___default.a.btnWrap},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_component_screenShot_screenShot__WEBPACK_IMPORTED_MODULE_9__.a,{onChange:this.screenShotChangeHandler})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:_index_less__WEBPACK_IMPORTED_MODULE_10___default.a.imgWrap},this.state.imgSrcList&&this.state.imgSrcList.map((function(_,e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{key:e,src:_,width:200})}))),Array(100).fill("").map((function(_,e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",{key:e},e)})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Demo}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);Demo.propTypes={};var _default=Demo,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Demo,"Demo","D:\\01\\reactScreenShot\\src\\view\\demo\\index.js"),reactHotLoader.register(_default,"default","D:\\01\\reactScreenShot\\src\\view\\demo\\index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(21)(module))},53:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(44),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(47),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(50),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(14),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_screenShot_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(58),_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_screenShot_less__WEBPACK_IMPORTED_MODULE_10__),html2canvas__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60),html2canvas__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_11__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(_){return _},ScreenShot=function(_React$Component){function ScreenShot(_){var e;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ScreenShot),e=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(ScreenShot).call(this,_)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"state",{optsStyle:{visibility:"hidden",top:0,left:0},bgStyle:{visibility:"hidden"}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"clearRect",(function(_){e.bgCanvas=e.refs.bgCanvas;var t=e.bgCanvas.getBoundingClientRect(),r=e.bgCanvas.getContext("2d");r.clearRect(0,0,t.width,t.height),r.fillStyle="rgba(255,255,255,0.5)",r.fillRect(0,0,t.width,t.height)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"html2canvasContinue",(function(){e.setState({optsStyle:{visibility:"hidden"}},(function(){e.html2canvasOpt()}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"html2canvasDone",(function(){e.setState({optsStyle:{visibility:"hidden"}},(function(){e.html2canvasOpt().then((function(){e.props.onChange&&e.props.onChange(e.imgInfoList),e.setState({bgStyle:{visibility:"hidden"}})}))}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"html2canvasOpt",(function(){return html2canvas__WEBPACK_IMPORTED_MODULE_11___default()(e.props.content,e.props.h2cOption).then((function(_){return e.imgInfoList.push(_.toDataURL()),e.props.onChange&&e.props.onChange(e.imgInfoList),e.clearRect(),_.toDataURL()}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"cancel",(function(_){e.setState({bgStyle:{visibility:"hidden"},optsStyle:{visibility:"hidden"}})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e),"begin",(function(_){e.clearRect(),e.setState({bgStyle:{visibility:""}})})),e.mouseDowning=!1,e.mouseDownState={},e.clearRectPoint=null,e.imgInfoList=[],e}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(ScreenShot,_React$Component),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ScreenShot,[{key:"componentDidMount",value:function(){var _=this,e=document.getElementsByTagName("body")[0];e.insertBefore(this.refs.bgFixed,e.childNodes[0]),this.bgCanvas=this.refs.bgCanvas;var t=this.bgCanvas.getBoundingClientRect(),r=this.bgCanvas.getContext("2d");this.bgCanvas.addEventListener("mousemove",(function(e){_.mouseDowning&&(r.clearRect(0,0,t.width,t.height),r.fillStyle="rgba(255,255,255,0.5)",r.fillRect(0,0,t.width,t.height),r.clearRect(_.mouseDownState.clientX,_.mouseDownState.clientY,e.clientX-_.mouseDownState.clientX,e.clientY-_.mouseDownState.clientY),_.clearRectPoint=[[_.mouseDownState.clientX,e.clientX],[_.mouseDownState.clientY,e.clientY]])})),this.bgCanvas.addEventListener("mousedown",(function(e){r.clearRect(0,0,t.width,t.height),r.fillStyle="rgba(255,255,255,0.5)",r.fillRect(0,0,t.width,t.height),_.mouseDowning=!0,_.mouseDownState={clientX:e.clientX,clientY:e.clientY},_.setState({optsStyle:{visibility:"hidden"}})})),this.bgCanvas.addEventListener("mouseup",(function(e){if(_.mouseDowning=!1,_.clearRectPoint){var t=_.clearRectPoint.map((function(_){return Math.max.apply(Math,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(_))}));_.setState({optsStyle:{visibility:"",left:t[0]-_.refs.opts.getBoundingClientRect().width,top:t[1]}}),_.clearRectPoint=null}else _.setState({optsStyle:{visibility:"",left:_.bgCanvas.getBoundingClientRect().width/2,top:_.bgCanvas.getBoundingClientRect().height/2}})}))}},{key:"render",value:function(){var _=document.querySelector("body").getBoundingClientRect();return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.screenShotOuter,ref:"outer"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.btnWrap,onClick:this.begin},this.props.btnDOM||react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.btn},"截屏")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.bgFixed,style:this.state.bgStyle,ref:"bgFixed"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("canvas",{title:"点击并拖动鼠标进行截图操作",ref:"bgCanvas",width:"".concat(_.width,"px"),height:"".concat(_.height,"px")}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.opts,style:this.state.optsStyle,ref:"opts"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.confirm,onClick:this.html2canvasContinue},"继续截图"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.confirm,onClick:this.html2canvasDone},"完成"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.cancel,onClick:this.cancel},"取消"))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ScreenShot}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ScreenShot,"defaultProps",{content:document.body,h2cOption:{}}),ScreenShot.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,h2cOption:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,btnDOM:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object};var _default=ScreenShot,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ScreenShot,"ScreenShot","D:\\01\\reactScreenShot\\src\\component\\screenShot\\screenShot.js"),reactHotLoader.register(_default,"default","D:\\01\\reactScreenShot\\src\\component\\screenShot\\screenShot.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(21)(module))},58:function(_,e,t){var r=t(59);"string"==typeof r&&(r=[[_.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(13)(r,a);r.locals&&(_.exports=r.locals)},59:function(_,e,t){(_.exports=t(12)(!1)).push([_.i,".screenShotOuter {\n  background: white;\n  display: inline-block;\n}\n.btnWrap .btn {\n  padding: 5px 10px;\n  color: white;\n  cursor: pointer;\n  background: #1f9af6;\n}\n.bgFixed {\n  position: fixed;\n  background: rgba(0, 0, 0, 0.05);\n  z-index: 999999;\n}\n.bgFixed canvas {\n  cursor: crosshair;\n}\n.opts {\n  position: absolute;\n  display: flex;\n  color: white;\n}\n.opts > span {\n  padding: 5px 10px;\n  cursor: pointer;\n  margin: 1px;\n  background: #1f9af6;\n}\n",""])},61:function(_,e,t){var r=t(62);"string"==typeof r&&(r=[[_.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(13)(r,a);r.locals&&(_.exports=r.locals)},62:function(_,e,t){(_.exports=t(12)(!1)).push([_.i,".btnWrap {\n  position: fixed;\n  right: 20px;\n  bottom: 20px;\n}\n",""])}}]);
//# sourceMappingURL=3.bundle.js.map