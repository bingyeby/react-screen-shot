module.exports=function(e){var t={};function _(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,_),r.l=!0,r.exports}return _.m=e,_.c=t,_.d=function(e,t,n){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)_.d(n,r,function(t){return e[t]}.bind(null,r));return n},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="",_(_.s=12)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t,_){var n=_(15);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};_(17)(n,r);n.locals&&(e.exports=n.locals)},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("html2canvas")},function(e,t,_){e.exports=_(13)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_screenShot_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3),_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_screenShot_less__WEBPACK_IMPORTED_MODULE_10__),html2canvas__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(11),html2canvas__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_11__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ScreenShot=function(_React$Component){function ScreenShot(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ScreenShot),t=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(ScreenShot).call(this,e)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"state",{optsStyle:{visibility:"hidden",top:0,left:0},bgStyle:{visibility:"hidden"}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"clearRect",(function(e){t.bgCanvas=t.refs.bgCanvas;var _=t.bgCanvas.getBoundingClientRect(),n=t.bgCanvas.getContext("2d");n.clearRect(0,0,_.width,_.height),n.fillStyle="rgba(255,255,255,0.5)",n.fillRect(0,0,_.width,_.height)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"html2canvasContinue",(function(){t.setState({optsStyle:{visibility:"hidden"}},(function(){t.html2canvasOpt()}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"html2canvasDone",(function(){t.setState({optsStyle:{visibility:"hidden"}},(function(){t.html2canvasOpt().then((function(){t.props.onChange&&t.props.onChange(t.imgInfoList),t.setState({bgStyle:{visibility:"hidden"}})}))}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"html2canvasOpt",(function(){return html2canvas__WEBPACK_IMPORTED_MODULE_11___default()(t.props.content,t.props.h2cOption).then((function(e){return t.imgInfoList.push(e.toDataURL()),t.props.onChange&&t.props.onChange(t.imgInfoList),t.clearRect(),e.toDataURL()}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"cancel",(function(e){t.setState({bgStyle:{visibility:"hidden"},optsStyle:{visibility:"hidden"}})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(t),"begin",(function(e){t.clearRect(),t.setState({bgStyle:{visibility:""}})})),t.mouseDowning=!1,t.mouseDownState={},t.clearRectPoint=null,t.imgInfoList=[],t}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(ScreenShot,_React$Component),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ScreenShot,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementsByTagName("body")[0];t.insertBefore(this.refs.bgFixed,t.childNodes[0]),this.bgCanvas=this.refs.bgCanvas;var _=this.bgCanvas.getBoundingClientRect(),n=this.bgCanvas.getContext("2d");this.bgCanvas.addEventListener("mousemove",(function(t){e.mouseDowning&&(n.clearRect(0,0,_.width,_.height),n.fillStyle="rgba(255,255,255,0.5)",n.fillRect(0,0,_.width,_.height),n.clearRect(e.mouseDownState.clientX,e.mouseDownState.clientY,t.clientX-e.mouseDownState.clientX,t.clientY-e.mouseDownState.clientY),e.clearRectPoint=[[e.mouseDownState.clientX,t.clientX],[e.mouseDownState.clientY,t.clientY]])})),this.bgCanvas.addEventListener("mousedown",(function(t){n.clearRect(0,0,_.width,_.height),n.fillStyle="rgba(255,255,255,0.5)",n.fillRect(0,0,_.width,_.height),e.mouseDowning=!0,e.mouseDownState={clientX:t.clientX,clientY:t.clientY},e.setState({optsStyle:{visibility:"hidden"}})})),this.bgCanvas.addEventListener("mouseup",(function(t){if(e.mouseDowning=!1,e.clearRectPoint){var _=e.clearRectPoint.map((function(e){return Math.max.apply(Math,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(e))}));e.setState({optsStyle:{visibility:"",left:_[0]-e.refs.opts.getBoundingClientRect().width,top:_[1]}}),e.clearRectPoint=null}else e.setState({optsStyle:{visibility:"",left:e.bgCanvas.getBoundingClientRect().width/2,top:e.bgCanvas.getBoundingClientRect().height/2}})}))}},{key:"render",value:function(){var e=document.querySelector("body").getBoundingClientRect();return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.screenShotOuter,ref:"outer"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.btn,onClick:this.begin},"截屏"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.bgFixed,style:this.state.bgStyle,ref:"bgFixed"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("canvas",{title:"点击并拖动鼠标进行截图操作",ref:"bgCanvas",width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.opts,style:this.state.optsStyle,ref:"opts"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.confirm,onClick:this.html2canvasContinue},"继续截图"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.confirm,onClick:this.html2canvasDone},"完成"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:_screenShot_less__WEBPACK_IMPORTED_MODULE_10___default.a.cancel,onClick:this.cancel},"取消"))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ScreenShot}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ScreenShot,"defaultProps",{content:document.body,h2cOption:{}}),ScreenShot.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,h2cOption:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object};var _default=ScreenShot,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ScreenShot,"ScreenShot","D:\\01\\reactScreenShot\\src\\component\\screenShot\\screenShot.js"),reactHotLoader.register(_default,"default","D:\\01\\reactScreenShot\\src\\component\\screenShot\\screenShot.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(14)(module))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,_){(t=e.exports=_(16)(!1)).push([e.i,".screenShotOuter-1_RIf {\n  background: white;\n  display: inline-block;\n}\n.btn-atGBk {\n  padding: 5px 10px;\n  color: white;\n  cursor: pointer;\n  background: #1f9af6;\n}\n.bgFixed-2HYHH {\n  position: fixed;\n  background: rgba(0, 0, 0, 0.05);\n  z-index: 999999;\n}\n.bgFixed-2HYHH canvas {\n  cursor: crosshair;\n}\n.opts-3k5mE {\n  position: absolute;\n  display: flex;\n  color: white;\n}\n.opts-3k5mE > span {\n  padding: 5px 10px;\n  cursor: pointer;\n  margin: 1px;\n  background: #1f9af6;\n}\n",""]),t.locals={screenShotOuter:"screenShotOuter-1_RIf",btn:"btn-atGBk",bgFixed:"bgFixed-2HYHH",opts:"opts-3k5mE"}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var _=function(e,t){var _=e[1]||"",n=e[3];if(!n)return _;if(t&&"function"==typeof btoa){var r=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[_].concat(a).concat([r]).join("\n")}var i;return[_].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+_+"}":_})).join("")},t.i=function(e,_){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(_&&!i[2]?i[2]=_:_&&(i[2]="("+i[2]+") and ("+_+")"),t.push(i))}},t}},function(e,t,_){var n,r,a={},i=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),o=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var _=o.call(this,e);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch(e){_=null}t[e]=_}return t[e]}}(),s=null,u=0,c=[],p=_(18);function f(e,t){for(var _=0;_<e.length;_++){var n=e[_],r=a[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(P(n.parts[i],t))}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(P(n.parts[i],t));a[n.id]={id:n.id,refs:1,parts:o}}}}function d(e,t){for(var _=[],n={},r=0;r<e.length;r++){var a=e[r],i=t.base?a[0]+t.base:a[0],o={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(o):_.push(n[i]={id:i,parts:[o]})}return _}function b(e,t){var _=l(e.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?_.insertBefore(t,n.nextSibling):_.appendChild(t):_.insertBefore(t,_.firstChild),c.push(t);else if("bottom"===e.insertAt)_.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(e.insertInto+" "+e.insertAt.before);_.insertBefore(t,r)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function E(e){var t=document.createElement("style");return e.attrs.type="text/css",O(t,e.attrs),b(e,t),t}function O(e,t){Object.keys(t).forEach((function(_){e.setAttribute(_,t[_])}))}function P(e,t){var _,n,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;_=s||(s=E(t)),n=D.bind(null,_,i,!1),r=D.bind(null,_,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(_=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",O(t,e.attrs),b(e,t),t}(t),n=v.bind(null,_,t),r=function(){h(_),_.href&&URL.revokeObjectURL(_.href)}):(_=E(t),n=C.bind(null,_),r=function(){h(_)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var _=d(e,t);return f(_,t),function(e){for(var n=[],r=0;r<_.length;r++){var i=_[r];(o=a[i.id]).refs--,n.push(o)}e&&f(d(e,t),t);for(r=0;r<n.length;r++){var o;if(0===(o=n[r]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete a[o.id]}}}};var m,M=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function D(e,t,_,n){var r=_?"":n.css;if(e.styleSheet)e.styleSheet.cssText=M(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function C(e,t){var _=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=_;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(_))}}function v(e,t,_){var n=_.css,r=_.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(n=p(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var _=t.protocol+"//"+t.host,n=_+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?_+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}}]);